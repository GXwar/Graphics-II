!function(e){var t={};function r(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);const a=(e,t)=>{if(e.length===t.length)return e.map((e,r)=>e+t[r]);console.log("Invalid vector addition")},o=(e,t)=>{if(e.length===t.length)return e.map((e,r)=>e-t[r]);console.log("Invalid vector substraction")},n=(e,t)=>e.map(e=>e*t),l=e=>n(e,1/(e=>Math.sqrt(e.reduce((e,t)=>e+t*t,0)))(e)),c=(e,t)=>[e[1]*t[2]-t[1]*e[2],-(e[0]*t[2]-t[0]*e[2]),e[0]*t[1]-t[0]*e[1]],s={h:1,d:1,f:1e3,C:[0,20,20],pRef:[0,0,0],UP:[0,-1,0],N:[0,0,0],U:[0,0,0],V:[0,0,0]},f=()=>{s.N=l(o(s.pRef,s.C)),s.U=l(c(s.N,s.UP)),s.V=c(s.U,s.N)};var i=s;var u={pointsNum:32,facesNum:40,points:[[-5.53777e-8,1,2.87212e-8],[.705667,.712466,2.87212e-8],[1,-909919e-9,2.87212e-8],[.71298,-.707007,2.87212e-8],[-5.53777e-8,-1,2.87212e-8],[.570897,.712466,.436126],[.809017,-909919e-9,.618034],[.576813,-.707007,.440646],[.218063,.712466,.705667],[.309017,-909919e-9,1],[.220323,-.707007,.71298],[-.218063,.712466,.705667],[-.309017,-909919e-9,1],[-.220323,-.707007,.71298],[-.570897,.712466,.436126],[-.809017,-909919e-9,.618034],[-.576813,-.707007,.440646],[-.705668,.712466,-3.6145e-8],[-1,-909919e-9,-6.32006e-8],[-.71298,-.707007,-3.68172e-8],[-.570897,.712466,-.436126],[-.809017,-909919e-9,-.618034],[-.576813,-.707007,-.440646],[-.218063,.712466,-.705667],[-.309017,-909919e-9,-1],[-.220323,-.707007,-.71298],[.218064,.712466,-.705667],[.309018,-909919e-9,-1],[.220323,-.707007,-.71298],[.570897,.712466,-.436126],[.809018,-909919e-9,-.618033],[.576813,-.707007,-.440645]],faces:[[0,1,5],[1,2,6,5],[2,3,7,6],[3,4,7],[0,5,8],[5,6,9,8],[6,7,10,9],[7,4,10],[0,8,11],[8,9,12,11],[9,10,13,12],[10,4,13],[0,11,14],[11,12,15,14],[12,13,16,15],[13,4,16],[0,14,17],[14,15,18,17],[15,16,19,18],[16,4,19],[0,17,20],[17,18,21,20],[18,19,22,21],[19,4,22],[0,20,23],[20,21,24,23],[21,22,25,24],[22,4,25],[0,23,26],[23,24,27,26],[24,25,28,27],[25,4,28],[0,26,29],[26,27,30,29],[27,28,31,30],[28,4,31],[0,29,1],[29,30,2,1],[30,31,3,2],[31,4,3]]};const h=e=>new Promise((t,r)=>{let a=new XMLHttpRequest;a.open("GET",e,!0),a.onreadystatechange=function(){4===this.readyState&&(200===this.status?t(this.responseText):r())},a.send()});var d=(e,t)=>{h(e).then(e=>{(e=>{let t=e.match(/[^\r\n]+/g),[r,a,o]=t[0].trim().split(/\s+/);null==o&&(o=a,a=r),u.pointsNum=parseInt(a,10),u.facesNum=parseInt(o,10),u.points=[],u.faces=[];for(let e=1;e<=u.pointsNum;e++){let[r,a,o]=t[e].trim().split(/\s+/);u.points.push([parseFloat(r),parseFloat(a),parseFloat(o)])}for(let e=u.pointsNum+1;e<=u.pointsNum+u.facesNum;e++){let[r,...a]=t[e].trim().split(/\s+/);a.length>2&&u.faces.push(a.map(e=>parseInt(e)-1))}})(e),t()}).catch(()=>{console.log("Load or parse file error")})};var p={backFaceSet:new Set,calcPoints:[],width:0,height:0,pixelBuffer:[],zBuffer:[],face_color_r_buffer:[],face_color_g_buffer:[],face_color_b_buffer:[],edgeTable:[],activeEdgeTable:[]};const g=(e,t)=>{if(e[0].length!==t.length)return console.log("Cannot multiply these two matrices!"),null;const[r,a,o]=[e.length,t.length,t[0].length],n=[];for(let e=0;e<r;e++)n.push(Array.from({length:o},e=>0));for(let l=0;l<r;l++)for(let r=0;r<o;r++)for(let o=0;o<a;o++)n[l][r]+=e[l][o]*t[o][r];return n},b=e=>{const t=g((()=>{const e=i.f/(i.f-i.d),t=i.d/i.h;return[[t,0,0,0],[0,t,0,0],[0,0,e,-e*i.d],[0,0,1,0]]})(),(()=>{const e=[[1,0,0,-i.C[0]],[0,1,0,-i.C[1]],[0,0,1,-i.C[2]],[0,0,0,1]],t=[[i.U[0],i.U[1],i.U[2],0],[i.V[0],i.V[1],i.V[2],0],[i.N[0],i.N[1],i.N[2],0],[0,0,0,1]];return g(t,e)})());return e.points.map(e=>{return(e=>{let t=Array.from(e),r=t.pop();return t.map(e=>e/r)})(((e,t)=>{let[r,a]=[e.length,t.length];const o=Array.from({length:r},e=>0);for(let n=0;n<r;n++)for(let r=0;r<a;r++)o[n]+=e[n][r]*t[r];return o})(t,(e=>[...e,1])(e)))})};class m{constructor(e,t,r,a,o,n){this.yStart=e,this.yMax=t,this.xStart=r,this.delta=a,this.zUpper=o,this.zLower=n}}const y=()=>Math.floor(256*Math.random()),v=(e,t=!1)=>Math.floor((e+1)*p.height/2)-(t?1:0),x=()=>{for(let e=0;e<p.height;e++){p.pixelBuffer[e]=[],p.zBuffer[e]=[];for(let t=0;t<p.width;t++)p.pixelBuffer[e][t]=[0,0,0],p.zBuffer[e][t]=1}},S=(e,t)=>{if(v(e[1])===v(t[1])||e[1]>1||e[1]<-1)return;e[1]>t[1]&&([e,t]=[t,e]);const r=new m(v(e[1]),v(t[1],!0),(e=>(e+1)*p.height/2)(e[0]),(e[0]-t[0])/(e[1]-t[1]),t[2],e[2]);r.yStart>r.yMax&&(r.yMax=r.yStart),p.edgeTable[Math.floor(r.yStart)].push(r)},_=(e,t)=>e.yMax===e.yStart?e.zUpper:e.zUpper-(e.zUpper-e.zLower)*(e.yMax-t)/(e.yMax-e.yStart);var C=()=>{x(),u.faces.forEach((e,t)=>{if(p.backFaceSet.has(t))return;(()=>{for(let e=0;e<p.height;e++)p.edgeTable[e]=[]})();for(let t=0;t<e.length;t++){let r=p.calcPoints[e[t]],a=p.calcPoints[e[(t+1)%e.length]];S(r,a)}let r=0;for(let e=0;e<p.height;e++)if(p.edgeTable[e].length>0){r=e;break}for(let e=r;e<p.height;e++){for(let t=0;t<p.edgeTable[e].length;t++)p.activeEdgeTable.push(p.edgeTable[e][t]);p.activeEdgeTable.sort((e,t)=>e.xStart-t.xStart);for(let r=0;r+1<p.activeEdgeTable.length;r+=2){const[a,o]=[p.activeEdgeTable[r],p.activeEdgeTable[r+1]];if(a.xStart>o.xStart)continue;const[n,l]=[_(a,e),_(o,e)];for(let r=Math.max(0,Math.floor(a.xStart));r<Math.floor(o.xStart)&&r<p.width;r++){let c=r==Math.max(0,a.xStart)?n:l-(l-n)*(o.xStart-r)/(o.xStart-a.xStart);c>p.zBuffer[e][r]||(p.zBuffer[e][r]=c,p.pixelBuffer[e][r]=[p.face_color_r_buffer[t],p.face_color_g_buffer[t],p.face_color_b_buffer[t]])}}p.activeEdgeTable=p.activeEdgeTable.filter(t=>t.yMax!==e).map(e=>(e.xStart+=e.delta,e))}})};var M=(e,t,r)=>()=>{p.backFaceSet=new Set,u.faces.forEach((e,t)=>{((e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2])(c(o(u.points[e[0]],u.points[e[1]]),o(u.points[e[1]],u.points[e[2]])),o(i.C,u.points[e[0]]))>=0&&p.backFaceSet.add(t)}),p.calcPoints=b(u),(()=>{x();for(let e=0;e<u.facesNum;e++)p.face_color_r_buffer.push(y()),p.face_color_g_buffer.push(y()),p.face_color_b_buffer.push(y())})(),C(),e.clearRect(0,0,t,r);const a=e.createImageData(t,r),n=new Uint8Array(t*r*4);for(let e=0;e<p.height;e++)for(let t=0;t<p.width;t++){const r=e*p.width+t;n[4*r+0]=p.pixelBuffer[e][t][0],n[4*r+1]=p.pixelBuffer[e][t][1],n[4*r+2]=p.pixelBuffer[e][t][2],n[4*r+3]=255}a.data.set(n),e.putImageData(a,0,0)};const w=["atc","ball","cow","knight"],T=(e,t)=>{const r=document.querySelector(`#${e}`),a=document.querySelector(`#${e}_V`);r.value=i[e],a.innerHTML=i[e],r.addEventListener("change",function(){i[e]=this.value,a.innerHTML=this.value,i.pRef[0]-=10,t()})},k=document.querySelector("#content"),[E,N]=[k.height,k.width],U=k.getContext("2d");U.fillRect(0,0,N,E),U.strokeStyle="green";const P=M(U,N,E),B=document.querySelector("select.choose_model");var z;z=B,w.forEach(e=>{const t=document.createElement("option");t.setAttribute("value",e),t.appendChild(document.createTextNode(e)),z.appendChild(t)}),["h","d","f"].forEach(e=>T(e,P));const L=document.querySelector(".render");var q,j;L.addEventListener("click",()=>{const e=B.selectedIndex;0===e&&alert("Please select a model to render");const t=B.options[e].value;d(`./public/model/${t}.d.txt`,P),L.disabled=!0}),document.querySelector(".reset").addEventListener("click",()=>{location.reload()}),q="content",j=P,document.querySelector(`#${q}`).addEventListener("mousewheel",function(e){e.wheelDelta>0?i.C=n(i.C,1.2):i.C=n(i.C,5/6),j()}),document.addEventListener("keypress",function(e){switch(e.key){case"w":i.C=a(i.C,n(i.V,-1)),j();break;case"s":i.C=a(i.C,n(i.V,1)),j();break;case"a":i.C=a(i.C,n(i.U,1)),j();break;case"d":i.C=a(i.C,n(i.U,-1)),j();break;case"i":i.C[1]-=2,f(),j();break;case"k":i.C[1]+=2,f(),j();break;case"j":i.C[0]+=2,f(),j();break;case"l":i.C[0]-=2,f(),j()}}),f(),p.width=N,p.height=E}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL29wZXJhdGUvdmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9jb25maWdzL2NhbWVyYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlncy9tb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvbG9hZEZpbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZ3MvcmVzdWx0LnRzIiwid2VicGFjazovLy8uL3NyYy9vcGVyYXRlL21hdHJpeC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb3BlcmF0ZS90cmFuc2Zvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL29iai9FZGdlVGFibGVFbGVtZW50LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9maWxsUGl4ZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2RyYXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZ3MvY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9kb20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidmVjdG9yQWRkIiwidmVjMSIsInZlYzIiLCJsZW5ndGgiLCJtYXAiLCJpbmRleCIsImNvbnNvbGUiLCJsb2ciLCJ2ZWN0b3JTdWJ0cmFjdCIsInZlY3RvclNjYWxlIiwidmVjdG9yIiwidmVjdG9yVW5pdCIsIk1hdGgiLCJzcXJ0IiwicmVkdWNlIiwicHJlIiwiY3VyIiwidmVjdG9yQWJzIiwidmVjdG9yM2RDcm9zc1Byb2R1Y3QiLCJjYW1lcmEiLCJoIiwiZiIsIkMiLCJwUmVmIiwiVVAiLCJOIiwiVSIsIlYiLCJjYW1lcmFJbml0IiwiY29uZmlnc19jYW1lcmEiLCJjb25maWdzX21vZGVsIiwicG9pbnRzTnVtIiwiZmFjZXNOdW0iLCJwb2ludHMiLCJmYWNlcyIsInJlYWRGaWxlIiwiZmlsZVBhdGgiLCJQcm9taXNlIiwicmVzIiwicmVqIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25yZWFkeXN0YXRlY2hhbmdlIiwidGhpcyIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJzZW5kIiwidXRpbHNfbG9hZEZpbGUiLCJkcmF3IiwidGhlbiIsImRhdGEiLCJsaW5lcyIsIm1hdGNoIiwibnVtIiwidHJpbSIsInNwbGl0IiwidW5kZWZpbmVkIiwicGFyc2VJbnQiLCJ4IiwieSIsInoiLCJwdXNoIiwicGFyc2VGbG9hdCIsInBhcnNlRmlsZSIsImNhdGNoIiwiY29uZmlnc19yZXN1bHQiLCJiYWNrRmFjZVNldCIsIlNldCIsImNhbGNQb2ludHMiLCJ3aWR0aCIsImhlaWdodCIsInBpeGVsQnVmZmVyIiwiekJ1ZmZlciIsImZhY2VfY29sb3Jfcl9idWZmZXIiLCJmYWNlX2NvbG9yX2dfYnVmZmVyIiwiZmFjZV9jb2xvcl9iX2J1ZmZlciIsImVkZ2VUYWJsZSIsImFjdGl2ZUVkZ2VUYWJsZSIsIm1hdHJpeE11bHRpcGx5IiwibTEiLCJtMiIsImsiLCJuZXdNYXRyaXgiLCJBcnJheSIsImZyb20iLCJfIiwiaiIsImNhbGNNb2RlbCIsIm1vZGVsIiwiY29tYm8iLCJhIiwiYiIsInBlcnNwZWN0aXZlVHJhbnMiLCJUIiwiUiIsIndvcmxkMkNhbWVyYSIsInBvaW50IiwidmVjIiwicG9wIiwiaXRlbSIsInZlY3RvckNvbGxhcHNlIiwibWF0cml4IiwicmV0IiwibWF0cml4TXVsdGlwbHlWZWN0b3IiLCJ2ZWN0b3JFeHRlbmQiLCJFZGdlVGFibGVFbGVtZW50IiwiW29iamVjdCBPYmplY3RdIiwieVN0YXJ0IiwieU1heCIsInhTdGFydCIsImRlbHRhIiwielVwcGVyIiwiekxvd2VyIiwicmFuZG9tIiwiZmxvb3IiLCJ0b1BpeGVsIiwic2hvcnR0ZW4iLCJidWZmZXJSZXNldCIsImFkZEVkZ2VUb0VUIiwibG93ZXJQb2ludCIsInVwcGVyUG9pbnQiLCJFVEVsZW1lbnQiLCJ0b0Zsb2F0UGl4ZWwiLCJjYWxjWiIsImVkZ2UiLCJ5cyIsImZpbGxQaXhlbCIsImZvckVhY2giLCJmYWNlIiwiaGFzIiwiZWRnZVRhYmxlUmVzZXQiLCJjdXJyZW50U2NhbkxpbmUiLCJzb3J0IiwibGVmdCIsInJpZ2h0IiwiemEiLCJ6YiIsIm1heCIsInpwIiwiZmlsdGVyIiwidXRpbHNfZHJhdyIsImN0eCIsInZlY3RvcjNkRG90UHJvZHVjdCIsImFkZCIsImJ1ZmZlckluaXQiLCJjbGVhclJlY3QiLCJpbWFnZURhdGEiLCJjcmVhdGVJbWFnZURhdGEiLCJVaW50OEFycmF5Iiwic2V0IiwicHV0SW1hZ2VEYXRhIiwiZmlsZXMiLCJiaW5kU2xpZGVyIiwic2xpZGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2xpZGVyVGV4dCIsImlubmVySFRNTCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzcmNfY2FudmFzIiwic3JjX2hlaWdodCIsInNyY193aWR0aCIsInNyY19jdHgiLCJnZXRDb250ZXh0IiwiZmlsbFJlY3QiLCJzdHJva2VTdHlsZSIsImRyYXdDdHgiLCJjaG9vc2VfbW9kZWwiLCJzZWxlY3RET00iLCJmaWxlIiwib3B0aW9uIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJyZW5kZXJCdG4iLCJtb2RlbEluZGV4Iiwic2VsZWN0ZWRJbmRleCIsImFsZXJ0IiwibW9kZWxOYW1lIiwib3B0aW9ucyIsImRpc2FibGVkIiwibG9jYXRpb24iLCJyZWxvYWQiLCJlIiwid2hlZWxEZWx0YSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUs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RUFBS3RCLEVBQVU2QixFQUFNUCxFQUFJYixFQUFZb0IsRUFBTUgsRUF6QmpFLElBMEJBd0IsSUFDQSxNQUNBLFFBQ2dCckIsRUFBTVAsRUFBS3RCLEVBQVU2QixFQUFNUCxFQUFJYixFQUFZb0IsRUFBTUgsR0E3QmpFLElBOEJBd0IsSUFDQSxNQUNBLFFBQ2dCckIsRUFBTVAsRUFBQSxJQWhDdEIsRUFpQ2dCTSxJQUNoQnNCLElBQ0EsTUFDQSxRQUNnQnJCLEVBQU1QLEVBQUEsSUFyQ3RCLEVBc0NnQk0sSUFDaEJzQixJQUNBLE1BQ0EsUUFDZ0JyQixFQUFNUCxFQUFBLElBMUN0QixFQTJDZ0JNLElBQ2hCc0IsSUFDQSxNQUNBLFFBQ2dCckIsRUFBTVAsRUFBQSxJQS9DdEIsRUFnRGdCTSxJQUNoQnNCLE9DNUNBdEIsSUFDQXVDLEVBQU1JLE1BQVM0RixFQUNmaEcsRUFBTUssT0FBVTBGIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIvKipcbiAqIEluY3JlYXNpbmcgdmVjdG9yIHdpdGggb25lIGRpbWVuc2lvblxuICogQHBhcmFtIHtWZWN0b3J9IHZlY3RvclxuICovXG5leHBvcnQgY29uc3QgdmVjdG9yRXh0ZW5kID0gKHZlY3RvcikgPT4ge1xuICAgIHJldHVybiBbLi4udmVjdG9yLCAxXTtcbn07XG5leHBvcnQgY29uc3QgdmVjdG9yQ29sbGFwc2UgPSAodmVjdG9yKSA9PiB7XG4gICAgbGV0IHZlYyA9IEFycmF5LmZyb20odmVjdG9yKTtcbiAgICBsZXQgdCA9IHZlYy5wb3AoKTtcbiAgICByZXR1cm4gdmVjLm1hcCgoaXRlbSkgPT4gaXRlbSAvIHQpO1xufTtcbi8qKlxuICogR2V0IHRoZSBsZW5ndGggb2YgdGhlIHZlY3RvclxuICogQHBhcmFtIHtWZWN0b3J9IHZlY3RvclxuICovXG5leHBvcnQgY29uc3QgdmVjdG9yQWJzID0gKHZlY3RvcikgPT4ge1xuICAgIHJldHVybiBNYXRoLnNxcnQodmVjdG9yLnJlZHVjZSgocHJlLCBjdXIpID0+IHtcbiAgICAgICAgcmV0dXJuIHByZSArIGN1ciAqIGN1cjtcbiAgICB9LCAwKSk7XG59O1xuLyoqXG4gKiBBZGQgdHdvIHZlY3RvclxuICogQHBhcmFtIHtWZWN0b3J9IHZlYzFcbiAqIEBwYXJhbSB7VmVjdG9yfSB2ZWMyXG4gKi9cbmV4cG9ydCBjb25zdCB2ZWN0b3JBZGQgPSAodmVjMSwgdmVjMikgPT4ge1xuICAgIGlmICh2ZWMxLmxlbmd0aCAhPT0gdmVjMi5sZW5ndGgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgdmVjdG9yIGFkZGl0aW9uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHZlYzEubWFwKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlICsgdmVjMltpbmRleF0pO1xufTtcbi8qKlxuICogU3Vic3RyYWN0IHZlY3RvclxuICogQHBhcmFtIHtWZWN0b3J9IHZlYzFcbiAqIEBwYXJhbSB7VmVjdG9yfSB2ZWMyXG4gKi9cbmV4cG9ydCBjb25zdCB2ZWN0b3JTdWJ0cmFjdCA9ICh2ZWMxLCB2ZWMyKSA9PiB7XG4gICAgaWYgKHZlYzEubGVuZ3RoICE9PSB2ZWMyLmxlbmd0aCkge1xuICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCB2ZWN0b3Igc3Vic3RyYWN0aW9uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHZlYzEubWFwKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlIC0gdmVjMltpbmRleF0pO1xufTtcbi8qKlxuICogU2NhbGUgdmVjdG9yXG4gKiBAcGFyYW0ge1ZlY3Rvcn0gdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gblxuICovXG5leHBvcnQgY29uc3QgdmVjdG9yU2NhbGUgPSAodmVjdG9yLCBuKSA9PiB7XG4gICAgcmV0dXJuIHZlY3Rvci5tYXAoaSA9PiBpICogbik7XG59O1xuLyoqXG4gKiBHZXQgYSB1bml0IG9mIHRoZSB2ZWN0b3JcbiAqIEBwYXJhbSB7VmVjdG9yfSB2ZWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IHZlY3RvclVuaXQgPSAodmVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIHZlY3RvclNjYWxlKHZlY3RvciwgMSAvIHZlY3RvckFicyh2ZWN0b3IpKTtcbn07XG4vKipcbiAqIENyb3NzIFByb3VkY3Qgb2YgdHdvIDNkIHZlY3RvclxuICogQHBhcmFtIHsqfSB2ZWMxXG4gKiBAcGFyYW0geyp9IHZlYzJcbiAqL1xuZXhwb3J0IGNvbnN0IHZlY3RvcjNkQ3Jvc3NQcm9kdWN0ID0gKHZlYzEsIHZlYzIpID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgICB2ZWMxWzFdICogdmVjMlsyXSAtIHZlYzJbMV0gKiB2ZWMxWzJdLFxuICAgICAgICAtKHZlYzFbMF0gKiB2ZWMyWzJdIC0gdmVjMlswXSAqIHZlYzFbMl0pLFxuICAgICAgICB2ZWMxWzBdICogdmVjMlsxXSAtIHZlYzJbMF0gKiB2ZWMxWzFdXG4gICAgXTtcbn07XG5leHBvcnQgY29uc3QgdmVjdG9yM2REb3RQcm9kdWN0ID0gKHZlYzEsIHZlYzIpID0+IHtcbiAgICByZXR1cm4gdmVjMVswXSAqIHZlYzJbMF0gKyB2ZWMxWzFdICogdmVjMlsxXSArIHZlYzFbMl0gKiB2ZWMyWzJdO1xufTtcbiIsImltcG9ydCB7IHZlY3RvclN1YnRyYWN0LCB2ZWN0b3JVbml0LCB2ZWN0b3IzZENyb3NzUHJvZHVjdCB9IGZyb20gJy4uL29wZXJhdGUvdmVjdG9yJztcbi8vIFNhdmUgdGhlIGluZm8gb2YgY2FtZXJhXG5jb25zdCBjYW1lcmEgPSB7XG4gICAgaDogMSxcbiAgICBkOiAxLFxuICAgIGY6IDEwMDAsXG4gICAgQzogWzAsIDIwLCAyMF0sXG4gICAgcFJlZjogWzAsIDAsIDBdLFxuICAgIFVQOiBbMCwgLTEsIDBdLFxuICAgIE46IFswLCAwLCAwXSxcbiAgICBVOiBbMCwgMCwgMF0sXG4gICAgVjogWzAsIDAsIDBdXG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgTiwgVSwgViBieSBjYW1lcmEgcG9zaXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGNhbWVyYUluaXQgPSAoKSA9PiB7XG4gICAgY2FtZXJhLk4gPSB2ZWN0b3JVbml0KHZlY3RvclN1YnRyYWN0KGNhbWVyYS5wUmVmLCBjYW1lcmEuQykpO1xuICAgIGNhbWVyYS5VID0gdmVjdG9yVW5pdCh2ZWN0b3IzZENyb3NzUHJvZHVjdChjYW1lcmEuTiwgY2FtZXJhLlVQKSk7XG4gICAgY2FtZXJhLlYgPSB2ZWN0b3IzZENyb3NzUHJvZHVjdChjYW1lcmEuVSwgY2FtZXJhLk4pO1xufTtcbmV4cG9ydCBkZWZhdWx0IGNhbWVyYTtcbiIsIi8qKlxuICogSW5wdXRlZCBNb2RlbFxuICovXG4vLyBsZXQgbW9kZWwgPSB7XG4vLyAgIHBvaW50c051bTogMCxcbi8vICAgZmFjZXNOdW06IDAsXG4vLyAgIHBvaW50czogW10sXG4vLyAgIGZhY2VzOiBbXVxuLy8gfTtcbmxldCBtb2RlbCA9IHtcbiAgICBwb2ludHNOdW06IDMyLFxuICAgIGZhY2VzTnVtOiA0MCxcbiAgICBwb2ludHM6IFtcbiAgICAgICAgWy01LjUzNzc3ZS0wOCwgMSwgMi44NzIxMmUtMDhdLFxuICAgICAgICBbMC43MDU2NjcsIDAuNzEyNDY2LCAyLjg3MjEyZS0wOF0sXG4gICAgICAgIFsxLCAtMC4wMDA5MDk5MTksIDIuODcyMTJlLTA4XSxcbiAgICAgICAgWzAuNzEyOTgsIC0wLjcwNzAwNywgMi44NzIxMmUtMDhdLFxuICAgICAgICBbLTUuNTM3NzdlLTA4LCAtMSwgMi44NzIxMmUtMDhdLFxuICAgICAgICBbMC41NzA4OTcsIDAuNzEyNDY2LCAwLjQzNjEyNl0sXG4gICAgICAgIFswLjgwOTAxNywgLTAuMDAwOTA5OTE5LCAwLjYxODAzNF0sXG4gICAgICAgIFswLjU3NjgxMywgLTAuNzA3MDA3LCAwLjQ0MDY0Nl0sXG4gICAgICAgIFswLjIxODA2MywgMC43MTI0NjYsIDAuNzA1NjY3XSxcbiAgICAgICAgWzAuMzA5MDE3LCAtMC4wMDA5MDk5MTksIDFdLFxuICAgICAgICBbMC4yMjAzMjMsIC0wLjcwNzAwNywgMC43MTI5OF0sXG4gICAgICAgIFstMC4yMTgwNjMsIDAuNzEyNDY2LCAwLjcwNTY2N10sXG4gICAgICAgIFstMC4zMDkwMTcsIC0wLjAwMDkwOTkxOSwgMV0sXG4gICAgICAgIFstMC4yMjAzMjMsIC0wLjcwNzAwNywgMC43MTI5OF0sXG4gICAgICAgIFstMC41NzA4OTcsIDAuNzEyNDY2LCAwLjQzNjEyNl0sXG4gICAgICAgIFstMC44MDkwMTcsIC0wLjAwMDkwOTkxOSwgMC42MTgwMzRdLFxuICAgICAgICBbLTAuNTc2ODEzLCAtMC43MDcwMDcsIDAuNDQwNjQ2XSxcbiAgICAgICAgWy0wLjcwNTY2OCwgMC43MTI0NjYsIC0zLjYxNDVlLTA4XSxcbiAgICAgICAgWy0xLCAtMC4wMDA5MDk5MTksIC02LjMyMDA2ZS0wOF0sXG4gICAgICAgIFstMC43MTI5OCwgLTAuNzA3MDA3LCAtMy42ODE3MmUtMDhdLFxuICAgICAgICBbLTAuNTcwODk3LCAwLjcxMjQ2NiwgLTAuNDM2MTI2XSxcbiAgICAgICAgWy0wLjgwOTAxNywgLTAuMDAwOTA5OTE5LCAtMC42MTgwMzRdLFxuICAgICAgICBbLTAuNTc2ODEzLCAtMC43MDcwMDcsIC0wLjQ0MDY0Nl0sXG4gICAgICAgIFstMC4yMTgwNjMsIDAuNzEyNDY2LCAtMC43MDU2NjddLFxuICAgICAgICBbLTAuMzA5MDE3LCAtMC4wMDA5MDk5MTksIC0xXSxcbiAgICAgICAgWy0wLjIyMDMyMywgLTAuNzA3MDA3LCAtMC43MTI5OF0sXG4gICAgICAgIFswLjIxODA2NCwgMC43MTI0NjYsIC0wLjcwNTY2N10sXG4gICAgICAgIFswLjMwOTAxOCwgLTAuMDAwOTA5OTE5LCAtMV0sXG4gICAgICAgIFswLjIyMDMyMywgLTAuNzA3MDA3LCAtMC43MTI5OF0sXG4gICAgICAgIFswLjU3MDg5NywgMC43MTI0NjYsIC0wLjQzNjEyNl0sXG4gICAgICAgIFswLjgwOTAxOCwgLTAuMDAwOTA5OTE5LCAtMC42MTgwMzNdLFxuICAgICAgICBbMC41NzY4MTMsIC0wLjcwNzAwNywgLTAuNDQwNjQ1XVxuICAgIF0sXG4gICAgZmFjZXM6IFtcbiAgICAgICAgWzAsIDEsIDVdLFxuICAgICAgICBbMSwgMiwgNiwgNV0sXG4gICAgICAgIFsyLCAzLCA3LCA2XSxcbiAgICAgICAgWzMsIDQsIDddLFxuICAgICAgICBbMCwgNSwgOF0sXG4gICAgICAgIFs1LCA2LCA5LCA4XSxcbiAgICAgICAgWzYsIDcsIDEwLCA5XSxcbiAgICAgICAgWzcsIDQsIDEwXSxcbiAgICAgICAgWzAsIDgsIDExXSxcbiAgICAgICAgWzgsIDksIDEyLCAxMV0sXG4gICAgICAgIFs5LCAxMCwgMTMsIDEyXSxcbiAgICAgICAgWzEwLCA0LCAxM10sXG4gICAgICAgIFswLCAxMSwgMTRdLFxuICAgICAgICBbMTEsIDEyLCAxNSwgMTRdLFxuICAgICAgICBbMTIsIDEzLCAxNiwgMTVdLFxuICAgICAgICBbMTMsIDQsIDE2XSxcbiAgICAgICAgWzAsIDE0LCAxN10sXG4gICAgICAgIFsxNCwgMTUsIDE4LCAxN10sXG4gICAgICAgIFsxNSwgMTYsIDE5LCAxOF0sXG4gICAgICAgIFsxNiwgNCwgMTldLFxuICAgICAgICBbMCwgMTcsIDIwXSxcbiAgICAgICAgWzE3LCAxOCwgMjEsIDIwXSxcbiAgICAgICAgWzE4LCAxOSwgMjIsIDIxXSxcbiAgICAgICAgWzE5LCA0LCAyMl0sXG4gICAgICAgIFswLCAyMCwgMjNdLFxuICAgICAgICBbMjAsIDIxLCAyNCwgMjNdLFxuICAgICAgICBbMjEsIDIyLCAyNSwgMjRdLFxuICAgICAgICBbMjIsIDQsIDI1XSxcbiAgICAgICAgWzAsIDIzLCAyNl0sXG4gICAgICAgIFsyMywgMjQsIDI3LCAyNl0sXG4gICAgICAgIFsyNCwgMjUsIDI4LCAyN10sXG4gICAgICAgIFsyNSwgNCwgMjhdLFxuICAgICAgICBbMCwgMjYsIDI5XSxcbiAgICAgICAgWzI2LCAyNywgMzAsIDI5XSxcbiAgICAgICAgWzI3LCAyOCwgMzEsIDMwXSxcbiAgICAgICAgWzI4LCA0LCAzMV0sXG4gICAgICAgIFswLCAyOSwgMV0sXG4gICAgICAgIFsyOSwgMzAsIDIsIDFdLFxuICAgICAgICBbMzAsIDMxLCAzLCAyXSxcbiAgICAgICAgWzMxLCA0LCAzXVxuICAgIF1cbn07XG5leHBvcnQgZGVmYXVsdCBtb2RlbDtcbiIsImltcG9ydCBtb2RlbCBmcm9tICcuLi9jb25maWdzL21vZGVsJztcbi8qKlxuICogUGFyc2UgdGhlIGRhdGEgZnJvbSB0aGUgLmQgZmlsZVxuICogQHBhcmFtIHsqfSBkYXRhXG4gKi9cbmNvbnN0IHBhcnNlRmlsZSA9IChkYXRhKSA9PiB7XG4gICAgbGV0IGxpbmVzID0gZGF0YS5tYXRjaCgvW15cXHJcXG5dKy9nKTtcbiAgICBsZXQgW251bSwgcG9pbnRzTnVtLCBmYWNlc051bV0gPSBsaW5lc1swXS50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgICAvLyBDYXVzZSBpbiBzb21lIGZpbGUsIHRoZXJlIGFyZSBqdXN0IHR3byBudW1iZXIgaW4gZmlyc3QgbGluZVxuICAgIGlmIChmYWNlc051bSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZmFjZXNOdW0gPSBwb2ludHNOdW07XG4gICAgICAgIHBvaW50c051bSA9IG51bTtcbiAgICB9XG4gICAgLy8gbG9hZCBkYXRhIHRvIG1vZGVsXG4gICAgbW9kZWwucG9pbnRzTnVtID0gcGFyc2VJbnQocG9pbnRzTnVtLCAxMCk7XG4gICAgbW9kZWwuZmFjZXNOdW0gPSBwYXJzZUludChmYWNlc051bSwgMTApO1xuICAgIC8vIGhlcmUgd2UgcmVmcmVzaCB0aGUgb2JqZWN0IHdoZW4gbG9hZCBkaWZmZXJlbnQgbW9kZWxcbiAgICBtb2RlbC5wb2ludHMgPSBbXTtcbiAgICBtb2RlbC5mYWNlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG1vZGVsLnBvaW50c051bTsgaSsrKSB7XG4gICAgICAgIGxldCBbeCwgeSwgel0gPSBsaW5lc1tpXS50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgICAgICAgbW9kZWwucG9pbnRzLnB1c2goW3BhcnNlRmxvYXQoeCksIHBhcnNlRmxvYXQoeSksIHBhcnNlRmxvYXQoeildKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IG1vZGVsLnBvaW50c051bSArIDE7IGkgPD0gbW9kZWwucG9pbnRzTnVtICsgbW9kZWwuZmFjZXNOdW07IGkrKykge1xuICAgICAgICBsZXQgW251bSwgLi4ucmVzXSA9IGxpbmVzW2ldLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIG1vZGVsLmZhY2VzLnB1c2gocmVzLm1hcCh4ID0+IHBhcnNlSW50KHgpIC0gMSkpO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8qKlxuICogUmVhZCB0aGUgY29udGVudCBvZiBhIGZpbGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlUGF0aFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuY29uc3QgcmVhZEZpbGUgPSAoZmlsZVBhdGgpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIGZpbGVQYXRoLCB0cnVlKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICByZXModGhpcy5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH0pO1xufTtcbi8qKlxuICogTG9hZCBhbmQgcmVuZGVyIHNlbGVjdGVkIG1vZGVsXG4gKiBAcGFyYW0ge1N0cmluZ30gZmlsZVBhdGhcbiAqL1xuY29uc3QgbG9hZEZpbGUgPSAoZmlsZVBhdGgsIGRyYXcpID0+IHtcbiAgICAvLyBsb2FkIG1vZGVsXG4gICAgcmVhZEZpbGUoZmlsZVBhdGgpXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICBwYXJzZUZpbGUoZGF0YSk7XG4gICAgICAgIGRyYXcoKTtcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnTG9hZCBvciBwYXJzZSBmaWxlIGVycm9yJyk7XG4gICAgfSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgbG9hZEZpbGU7XG4iLCIvKipcbiAqIFJlc3VsdFxuICovXG5sZXQgcmVzdWx0ID0ge1xuICAgIC8vIEEgc2V0IHVzZWQgdG8gc2F2ZSBiYWNrIGZhY2UgaW5kZXhcbiAgICBiYWNrRmFjZVNldDogbmV3IFNldCgpLFxuICAgIC8vIHRyYW5zZm9ybWVkIHBvaW50XG4gICAgY2FsY1BvaW50czogW10sXG4gICAgLy8gcmVuZGVyaW5nXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHBpeGVsQnVmZmVyOiBbXSxcbiAgICB6QnVmZmVyOiBbXSxcbiAgICBmYWNlX2NvbG9yX3JfYnVmZmVyOiBbXSxcbiAgICBmYWNlX2NvbG9yX2dfYnVmZmVyOiBbXSxcbiAgICBmYWNlX2NvbG9yX2JfYnVmZmVyOiBbXSxcbiAgICAvLyBFZGdlIFRhYmxlXG4gICAgZWRnZVRhYmxlOiBbXSxcbiAgICAvLyBBY3RpdmUgRWRnZSBUYWJsZVxuICAgIGFjdGl2ZUVkZ2VUYWJsZTogW11cbn07XG5leHBvcnQgZGVmYXVsdCByZXN1bHQ7XG4iLCIvKipcbiAqIE11bHRpcGx5IHR3byBtYXRyaWNlc1xuICogQHBhcmFtIHtNYXRyaXh9IG0xXG4gKiBAcGFyYW0ge01hdHJpeH0gbTJcbiAqL1xuZXhwb3J0IGNvbnN0IG1hdHJpeE11bHRpcGx5ID0gKG0xLCBtMikgPT4ge1xuICAgIGlmIChtMVswXS5sZW5ndGggIT09IG0yLmxlbmd0aCkge1xuICAgICAgICBjb25zb2xlLmxvZygnQ2Fubm90IG11bHRpcGx5IHRoZXNlIHR3byBtYXRyaWNlcyEnKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IFttLCBuLCBrXSA9IFttMS5sZW5ndGgsIG0yLmxlbmd0aCwgbTJbMF0ubGVuZ3RoXTtcbiAgICAvLyBpbml0aWFsaXplIG0gKiBrIG1hdHJpeCB3aXRoIDBcbiAgICBjb25zdCBuZXdNYXRyaXggPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG07IGkrKykge1xuICAgICAgICBuZXdNYXRyaXgucHVzaChBcnJheS5mcm9tKHsgbGVuZ3RoOiBrIH0sIF8gPT4gMCkpO1xuICAgIH1cbiAgICAvLyBtdWx0aXBseVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbTsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IG47IHQrKykge1xuICAgICAgICAgICAgICAgIG5ld01hdHJpeFtpXVtqXSArPSBtMVtpXVt0XSAqIG0yW3RdW2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXdNYXRyaXg7XG59O1xuLyoqXG4gKiBNdWx0aXBseSBtYXRyaXggd2l0aCB2ZWN0b3JcbiAqIEBwYXJhbSB7TWF0cml4fSBtYXRyaXhcbiAqIEBwYXJhbSB7VmVjdG9yfSB2ZWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IG1hdHJpeE11bHRpcGx5VmVjdG9yID0gKG1hdHJpeCwgdmVjdG9yKSA9PiB7XG4gICAgbGV0IFttLCBuXSA9IFttYXRyaXgubGVuZ3RoLCB2ZWN0b3IubGVuZ3RoXTtcbiAgICBjb25zdCByZXQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBtIH0sIF8gPT4gMCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBuOyBqKyspIHtcbiAgICAgICAgICAgIHJldFtpXSArPSBtYXRyaXhbaV1bal0gKiB2ZWN0b3Jbal07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG4iLCJpbXBvcnQgY2FtZXJhIGZyb20gJy4uL2NvbmZpZ3MvY2FtZXJhJztcbmltcG9ydCBtb2RlbCBmcm9tICcuLi9jb25maWdzL21vZGVsJztcbmltcG9ydCByZXN1bHQgZnJvbSAnLi4vY29uZmlncy9yZXN1bHQnO1xuaW1wb3J0IHsgdmVjdG9yRXh0ZW5kLCB2ZWN0b3JDb2xsYXBzZSwgdmVjdG9yU3VidHJhY3QsIHZlY3RvcjNkQ3Jvc3NQcm9kdWN0LCB2ZWN0b3IzZERvdFByb2R1Y3QgfSBmcm9tICcuL3ZlY3Rvcic7XG5pbXBvcnQgeyBtYXRyaXhNdWx0aXBseSwgbWF0cml4TXVsdGlwbHlWZWN0b3IgfSBmcm9tICcuL21hdHJpeCc7XG5jb25zdCB3b3JsZDJDYW1lcmEgPSAoKSA9PiB7XG4gICAgY29uc3QgVCA9IFtcbiAgICAgICAgWzEsIDAsIDAsIC1jYW1lcmEuQ1swXV0sXG4gICAgICAgIFswLCAxLCAwLCAtY2FtZXJhLkNbMV1dLFxuICAgICAgICBbMCwgMCwgMSwgLWNhbWVyYS5DWzJdXSxcbiAgICAgICAgWzAsIDAsIDAsIDFdXG4gICAgXTtcbiAgICBjb25zdCBSID0gW1xuICAgICAgICBbY2FtZXJhLlVbMF0sIGNhbWVyYS5VWzFdLCBjYW1lcmEuVVsyXSwgMF0sXG4gICAgICAgIFtjYW1lcmEuVlswXSwgY2FtZXJhLlZbMV0sIGNhbWVyYS5WWzJdLCAwXSxcbiAgICAgICAgW2NhbWVyYS5OWzBdLCBjYW1lcmEuTlsxXSwgY2FtZXJhLk5bMl0sIDBdLFxuICAgICAgICBbMCwgMCwgMCwgMV1cbiAgICBdO1xuICAgIGNvbnN0IFJUID0gbWF0cml4TXVsdGlwbHkoUiwgVCk7XG4gICAgcmV0dXJuIFJUO1xufTtcbmNvbnN0IHBlcnNwZWN0aXZlVHJhbnMgPSAoKSA9PiB7XG4gICAgY29uc3QgYSA9IGNhbWVyYS5mIC8gKGNhbWVyYS5mIC0gY2FtZXJhLmQpO1xuICAgIGNvbnN0IGIgPSBjYW1lcmEuZCAvIGNhbWVyYS5oO1xuICAgIGNvbnN0IG1QZXJzID0gW1xuICAgICAgICBbYiwgMCwgMCwgMF0sXG4gICAgICAgIFswLCBiLCAwLCAwXSxcbiAgICAgICAgWzAsIDAsIGEsIC1hICogY2FtZXJhLmRdLFxuICAgICAgICBbMCwgMCwgMSwgMF1cbiAgICBdO1xuICAgIHJldHVybiBtUGVycztcbn07XG4vKipcbiAqIEJhY2stZmFjZSBjdWxsaW5nXG4gKiBWaXNpYmxlIGlmIE5wIGRvdCBwcm9kdWN0IE4gPiAwXG4gKiBOb3RlOiBTb21lIHRoZSBwb2x5Z29ucyBhcmUgZGVub3RlZCBpbiBhbnRpLWNsb2Nrd2lzZSBvcmRlclxuICovXG5leHBvcnQgY29uc3QgYmFja0ZhY2VDdWxsaW5nID0gKCkgPT4ge1xuICAgIHJlc3VsdC5iYWNrRmFjZVNldCA9IG5ldyBTZXQoKTtcbiAgICBtb2RlbC5mYWNlcy5mb3JFYWNoKCh4LCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAodmVjdG9yM2REb3RQcm9kdWN0KHZlY3RvcjNkQ3Jvc3NQcm9kdWN0KHZlY3RvclN1YnRyYWN0KG1vZGVsLnBvaW50c1t4WzBdXSwgbW9kZWwucG9pbnRzW3hbMV1dKSwgdmVjdG9yU3VidHJhY3QobW9kZWwucG9pbnRzW3hbMV1dLCBtb2RlbC5wb2ludHNbeFsyXV0pKSwgdmVjdG9yU3VidHJhY3QoY2FtZXJhLkMsIG1vZGVsLnBvaW50c1t4WzBdXSkpID49IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5iYWNrRmFjZVNldC5hZGQoaW5kZXgpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuLy8gQ2FsY3VsYXRlIG1vZGVsXG5leHBvcnQgY29uc3QgY2FsY01vZGVsID0gbW9kZWwgPT4ge1xuICAgIGNvbnN0IGNvbWJvID0gbWF0cml4TXVsdGlwbHkocGVyc3BlY3RpdmVUcmFucygpLCB3b3JsZDJDYW1lcmEoKSk7XG4gICAgcmV0dXJuIG1vZGVsLnBvaW50cy5tYXAocG9pbnQgPT4ge1xuICAgICAgICBsZXQgdCA9IG1hdHJpeE11bHRpcGx5VmVjdG9yKGNvbWJvLCB2ZWN0b3JFeHRlbmQocG9pbnQpKTtcbiAgICAgICAgcmV0dXJuIHZlY3RvckNvbGxhcHNlKHQpO1xuICAgIH0pO1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkZ2VUYWJsZUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHlTdGFydCwgeU1heCwgeFN0YXJ0LCBkZWx0YSwgelVwcGVyLCB6TG93ZXIpIHtcbiAgICAgICAgdGhpcy55U3RhcnQgPSB5U3RhcnQ7XG4gICAgICAgIHRoaXMueU1heCA9IHlNYXg7XG4gICAgICAgIHRoaXMueFN0YXJ0ID0geFN0YXJ0O1xuICAgICAgICB0aGlzLmRlbHRhID0gZGVsdGE7XG4gICAgICAgIHRoaXMuelVwcGVyID0gelVwcGVyO1xuICAgICAgICB0aGlzLnpMb3dlciA9IHpMb3dlcjtcbiAgICB9XG59XG47XG4iLCIvKioqKioqKioqKioqKioqKioqKiogRklMTCBQSVhFTFMgKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgbW9kZWwgZnJvbSAnLi4vY29uZmlncy9tb2RlbCc7XG5pbXBvcnQgcmVzdWx0IGZyb20gJy4uL2NvbmZpZ3MvcmVzdWx0JztcbmltcG9ydCBFZGdlVGFibGVFbGVtZW50IGZyb20gJy4uL29iai9FZGdlVGFibGVFbGVtZW50Jztcbi8vIGdldCBhIHJhbmRvbSBpbnRlZ2VyIGluIFswLCAyNTVdXG5jb25zdCByYW5kb20gPSAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTYpO1xuLy8gY29udmVydCAyZCBwb2ludCB0byBjYW52YXMgcG9pbnRcbmNvbnN0IHRvUGl4ZWwgPSAodmFsdWUsIHNob3J0dGVuID0gZmFsc2UpID0+IE1hdGguZmxvb3IoKHZhbHVlICsgMSkgKiByZXN1bHQuaGVpZ2h0IC8gMikgLSAoc2hvcnR0ZW4gPyAxIDogMCk7XG5jb25zdCB0b0Zsb2F0UGl4ZWwgPSAodmFsdWUpID0+ICh2YWx1ZSArIDEpICogcmVzdWx0LmhlaWdodCAvIDI7XG4vLyByZXNldCBwaXhlbCBidWZmZXIgYW5kIHogYnVmZmVyXG5jb25zdCBidWZmZXJSZXNldCA9ICgpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5oZWlnaHQ7IGkrKykge1xuICAgICAgICByZXN1bHQucGl4ZWxCdWZmZXJbaV0gPSBbXTtcbiAgICAgICAgcmVzdWx0LnpCdWZmZXJbaV0gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByZXN1bHQud2lkdGg7IGorKykge1xuICAgICAgICAgICAgcmVzdWx0LnBpeGVsQnVmZmVyW2ldW2pdID0gWzAsIDAsIDBdO1xuICAgICAgICAgICAgcmVzdWx0LnpCdWZmZXJbaV1bal0gPSAxO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIHJlc2V0IGVkZ2UgdGFibGVcbmNvbnN0IGVkZ2VUYWJsZVJlc2V0ID0gKCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0LmhlaWdodDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdC5lZGdlVGFibGVbaV0gPSBbXTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGJ1ZmZlckluaXQgPSAoKSA9PiB7XG4gICAgYnVmZmVyUmVzZXQoKTtcbiAgICAvLyBnaXZlIHJhbmRvbSBjb2xvciB0byBlYWNoIGZhY2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGVsLmZhY2VzTnVtOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LmZhY2VfY29sb3Jfcl9idWZmZXIucHVzaChyYW5kb20oKSk7XG4gICAgICAgIHJlc3VsdC5mYWNlX2NvbG9yX2dfYnVmZmVyLnB1c2gocmFuZG9tKCkpO1xuICAgICAgICByZXN1bHQuZmFjZV9jb2xvcl9iX2J1ZmZlci5wdXNoKHJhbmRvbSgpKTtcbiAgICB9XG59O1xuLyoqXG4gKiBTY2FuIENvbnZlcnNpb25cbiAqIDEuIGZvciBlYWNoIHNjYW4gbGluZSwgZGV0ZXJtaW5lIGVkZ2VzIG9mIHBvbHlnb25zIHRoYXQgaW50ZXJzZWN0XG4gKiAyLiBGaW5kIHRoZSBzdGFydCBhbmQgZW5kIG9mIHRoZSBzcGFuXG4gKiAzLiBSZWx5IG9uIHNjYW5saW5lIGFuZCBwaXhlbCBjb2hlcmVuY2UgdG8gbGluZWFybHkgaW50ZXJwb2xhdGUgKGJldHdlZW4gc2NhbmxpbmVzIGFuZCBiZXR3ZWVuIHBpeGVscylcbiAqL1xuY29uc3QgYWRkRWRnZVRvRVQgPSAobG93ZXJQb2ludCwgdXBwZXJQb2ludCkgPT4ge1xuICAgIC8vIGlnbm9yZSBob3Jpem9udGFsIGVkZ2UgYW5kIG91dCBvZiByYW5nZSBwb2ludFxuICAgIGlmICh0b1BpeGVsKGxvd2VyUG9pbnRbMV0pID09PSB0b1BpeGVsKHVwcGVyUG9pbnRbMV0pXG4gICAgICAgIHx8IGxvd2VyUG9pbnRbMV0gPiAxIHx8IGxvd2VyUG9pbnRbMV0gPCAtMSlcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIHN3YXAgdGhlIG9yZGVyIG9mIHR3byBwb2ludHNcbiAgICBpZiAobG93ZXJQb2ludFsxXSA+IHVwcGVyUG9pbnRbMV0pIHtcbiAgICAgICAgW2xvd2VyUG9pbnQsIHVwcGVyUG9pbnRdID0gW3VwcGVyUG9pbnQsIGxvd2VyUG9pbnRdO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgZWRnZSB0YWJsZSBlbGVtZW50IGFuZCBhZGQgaXQgaW50byB0aGUgZWRnZSB0YWJsZVxuICAgIGNvbnN0IEVURWxlbWVudCA9IG5ldyBFZGdlVGFibGVFbGVtZW50KHRvUGl4ZWwobG93ZXJQb2ludFsxXSksIHRvUGl4ZWwodXBwZXJQb2ludFsxXSwgdHJ1ZSksIHRvRmxvYXRQaXhlbChsb3dlclBvaW50WzBdKSwgKGxvd2VyUG9pbnRbMF0gLSB1cHBlclBvaW50WzBdKSAvIChsb3dlclBvaW50WzFdIC0gdXBwZXJQb2ludFsxXSksIHVwcGVyUG9pbnRbMl0sIGxvd2VyUG9pbnRbMl0pO1xuICAgIGlmIChFVEVsZW1lbnQueVN0YXJ0ID4gRVRFbGVtZW50LnlNYXgpIHtcbiAgICAgICAgRVRFbGVtZW50LnlNYXggPSBFVEVsZW1lbnQueVN0YXJ0O1xuICAgIH1cbiAgICByZXN1bHQuZWRnZVRhYmxlW01hdGguZmxvb3IoRVRFbGVtZW50LnlTdGFydCldLnB1c2goRVRFbGVtZW50KTtcbn07XG4vLyBDYWxjdWxhdGlvbiBvZiB6XG5jb25zdCBjYWxjWiA9IChlZGdlLCB5cykgPT4gZWRnZS55TWF4ID09PSBlZGdlLnlTdGFydCA/IGVkZ2UuelVwcGVyIDpcbiAgICBlZGdlLnpVcHBlciAtIChlZGdlLnpVcHBlciAtIGVkZ2Uuekxvd2VyKSAqIChlZGdlLnlNYXggLSB5cykgLyAoZWRnZS55TWF4IC0gZWRnZS55U3RhcnQpO1xuY29uc3Qgc2NhbkNvbnZlcnNpb24gPSAoKSA9PiB7XG4gICAgYnVmZmVyUmVzZXQoKTtcbiAgICAvLyBmb3IgZWFjaCBmYWNlXG4gICAgbW9kZWwuZmFjZXMuZm9yRWFjaCgoZmFjZSwgaW5kZXgpID0+IHtcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBjb25zaWRlciBiYWNrIGZhY2VcbiAgICAgICAgaWYgKHJlc3VsdC5iYWNrRmFjZVNldC5oYXMoaW5kZXgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBidWlsZCBlZGdlIHRhYmxlXG4gICAgICAgIGVkZ2VUYWJsZVJlc2V0KCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gZ2V0IGFuIGVkZ2UgXG4gICAgICAgICAgICBsZXQgbG93ZXJQb2ludCA9IHJlc3VsdC5jYWxjUG9pbnRzW2ZhY2VbaV1dO1xuICAgICAgICAgICAgbGV0IHVwcGVyUG9pbnQgPSByZXN1bHQuY2FsY1BvaW50c1tmYWNlWyhpICsgMSkgJSBmYWNlLmxlbmd0aF1dO1xuICAgICAgICAgICAgYWRkRWRnZVRvRVQobG93ZXJQb2ludCwgdXBwZXJQb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmlsbCBwaXhlbCB0byBwaXhlbCBidWZmZXJcbiAgICAgICAgbGV0IGN1cnJlbnRTY2FuTGluZSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0LmhlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmVkZ2VUYWJsZVtpXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFNjYW5MaW5lID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gY3VycmVudFNjYW5MaW5lOyBpIDwgcmVzdWx0LmhlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtb3ZlIGVkZ2UgZnJvbSBFZGdlIFRhYmVsIHRvIEFjdGl2ZSBFZGdlIFRhYmxlXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJlc3VsdC5lZGdlVGFibGVbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuYWN0aXZlRWRnZVRhYmxlLnB1c2gocmVzdWx0LmVkZ2VUYWJsZVtpXVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQuYWN0aXZlRWRnZVRhYmxlLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS54U3RhcnQgLSBiLnhTdGFydDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogKyAxIDwgcmVzdWx0LmFjdGl2ZUVkZ2VUYWJsZS5sZW5ndGg7IGogKz0gMikge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtsZWZ0LCByaWdodF0gPSBbcmVzdWx0LmFjdGl2ZUVkZ2VUYWJsZVtqXSwgcmVzdWx0LmFjdGl2ZUVkZ2VUYWJsZVtqICsgMV1dO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0LnhTdGFydCA+IHJpZ2h0LnhTdGFydClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgW3phLCB6Yl0gPSBbY2FsY1oobGVmdCwgaSksIGNhbGNaKHJpZ2h0LCBpKV07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IE1hdGgubWF4KDAsIE1hdGguZmxvb3IobGVmdC54U3RhcnQpKTsgayA8IE1hdGguZmxvb3IocmlnaHQueFN0YXJ0KSAmJiBrIDwgcmVzdWx0LndpZHRoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IHBvaW50J3MgeiBjb29yZGluYXRlXG4gICAgICAgICAgICAgICAgICAgIGxldCB6cCA9IGsgPT0gTWF0aC5tYXgoMCwgbGVmdC54U3RhcnQpID8gemEgOiB6YiAtICh6YiAtIHphKSAqIChyaWdodC54U3RhcnQgLSBrKSAvIChyaWdodC54U3RhcnQgLSBsZWZ0LnhTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh6cCA+IHJlc3VsdC56QnVmZmVyW2ldW2tdKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC56QnVmZmVyW2ldW2tdID0genA7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5waXhlbEJ1ZmZlcltpXVtrXSA9IFtyZXN1bHQuZmFjZV9jb2xvcl9yX2J1ZmZlcltpbmRleF0sIHJlc3VsdC5mYWNlX2NvbG9yX2dfYnVmZmVyW2luZGV4XSwgcmVzdWx0LmZhY2VfY29sb3JfYl9idWZmZXJbaW5kZXhdXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQuYWN0aXZlRWRnZVRhYmxlID0gcmVzdWx0LmFjdGl2ZUVkZ2VUYWJsZVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZWRnZSA9PiBlZGdlLnlNYXggIT09IGkpIC8vIHJlbW92ZSBlZGdlIGZyb20gQWN0aXZlIEVkZ2UgVGFibGUgd2hpbGUgeSA9IHlNYXhcbiAgICAgICAgICAgICAgICAubWFwKGVkZ2UgPT4ge1xuICAgICAgICAgICAgICAgIGVkZ2UueFN0YXJ0ICs9IGVkZ2UuZGVsdGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVkZ2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcbmV4cG9ydCBkZWZhdWx0IHNjYW5Db252ZXJzaW9uO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqIERSQVcgSU1BR0UgKioqKioqKioqKioqKioqKioqKiovXG5pbXBvcnQgbW9kZWwgZnJvbSAnLi4vY29uZmlncy9tb2RlbCc7XG5pbXBvcnQgcmVzdWx0IGZyb20gJy4uL2NvbmZpZ3MvcmVzdWx0JztcbmltcG9ydCB7IGNhbGNNb2RlbCwgYmFja0ZhY2VDdWxsaW5nIH0gZnJvbSAnLi4vb3BlcmF0ZS90cmFuc2Zvcm0nO1xuaW1wb3J0IHNjYW5Db252ZXJzaW9uLCB7IGJ1ZmZlckluaXQgfSBmcm9tICcuL2ZpbGxQaXhlbCc7XG4vKipcbiAqIERyYXcgbW9kZWwgb24gdGhlIGNhbnZhc1xuICogQHBhcmFtIHtDYW52YXMgY29udGV4dH0gY3R4XG4gKiBAcGFyYW0ge0NhbnZhcycgd2lkdGh9IHdpZHRoXG4gKiBAcGFyYW0ge0NhbnZhcycgaGVpZ2h0fSBoZWlnaHRcbiAqL1xuY29uc3QgZHJhdyA9IChjdHgsIHdpZHRoLCBoZWlnaHQpID0+ICgpID0+IHtcbiAgICAvLyBiYWNrIGZhY2UgY3VsbGluZywgc2F2ZSBpdCB0byBtb2RlbCBvYmplY3RcbiAgICBiYWNrRmFjZUN1bGxpbmcoKTtcbiAgICAvLyB0cmFuc2Zvcm0gcG9pbnRzIGZyb20gdmlydHVhbCB3b3JsZCB0byAyZCBzY3JlZW5cbiAgICByZXN1bHQuY2FsY1BvaW50cyA9IGNhbGNNb2RlbChtb2RlbCk7XG4gICAgLy8gei1idWZmZXIgYWxnb3JpdGhtXG4gICAgYnVmZmVySW5pdCgpO1xuICAgIHNjYW5Db252ZXJzaW9uKCk7XG4gICAgLy8gZHJhdyBpbWFnZVxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcbiAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5oZWlnaHQ7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJlc3VsdC53aWR0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gaSAqIHJlc3VsdC53aWR0aCArIGo7XG4gICAgICAgICAgICAvLyByIGcgYiBhXG4gICAgICAgICAgICBkYXRhW3QgKiA0ICsgMF0gPSByZXN1bHQucGl4ZWxCdWZmZXJbaV1bal1bMF07XG4gICAgICAgICAgICBkYXRhW3QgKiA0ICsgMV0gPSByZXN1bHQucGl4ZWxCdWZmZXJbaV1bal1bMV07XG4gICAgICAgICAgICBkYXRhW3QgKiA0ICsgMl0gPSByZXN1bHQucGl4ZWxCdWZmZXJbaV1bal1bMl07XG4gICAgICAgICAgICBkYXRhW3QgKiA0ICsgM10gPSAyNTU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW1hZ2VEYXRhLmRhdGEuc2V0KGRhdGEpO1xuICAgIGN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbn07XG5leHBvcnQgZGVmYXVsdCBkcmF3O1xuIiwiLy8gZGF0YSBmaWxlcyB0byBiZSBsb2FkZWRcbmV4cG9ydCBjb25zdCBmaWxlcyA9IFtcbiAgICAnYXRjJyxcbiAgICAnYmFsbCcsXG4gICAgJ2NvdycsXG4gICAgJ2tuaWdodCdcbl07XG4iLCIvKioqKioqKioqKioqKioqKioqKiogRE9NIE9QRVJBVElPTiAqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCBjYW1lcmEsIHsgY2FtZXJhSW5pdCB9IGZyb20gJy4uL2NvbmZpZ3MvY2FtZXJhJztcbmltcG9ydCB7IGZpbGVzIH0gZnJvbSAnLi4vY29uZmlncy9jb25zdGFudHMnO1xuaW1wb3J0IHsgdmVjdG9yQWRkLCB2ZWN0b3JTY2FsZSB9IGZyb20gJy4uL29wZXJhdGUvdmVjdG9yJztcbi8qKlxuICogTG9hZCBtZW51XG4gKi9cbmV4cG9ydCBjb25zdCBsb2FkTWVudSA9IChzZWxlY3RET00pID0+IHtcbiAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIGZpbGUpO1xuICAgICAgICBvcHRpb24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZmlsZSkpO1xuICAgICAgICBzZWxlY3RET00uYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICB9KTtcbn07XG4vKipcbiAqIEJpbmQgdGhlIHZhbHVlIG9mIHNsaWRlciB3aXRoIGNhbWVyYSBzZXR0aW5nXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICovXG5leHBvcnQgY29uc3QgYmluZFNsaWRlciA9IChuYW1lLCBkcmF3KSA9PiB7XG4gICAgY29uc3Qgc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7bmFtZX1gKTtcbiAgICBjb25zdCBzbGlkZXJUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7bmFtZX1fVmApO1xuICAgIHNsaWRlci52YWx1ZSA9IGNhbWVyYVtuYW1lXTtcbiAgICBzbGlkZXJUZXh0LmlubmVySFRNTCA9IGNhbWVyYVtuYW1lXTtcbiAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYW1lcmFbbmFtZV0gPSB0aGlzLnZhbHVlO1xuICAgICAgICBzbGlkZXJUZXh0LmlubmVySFRNTCA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNhbWVyYS5wUmVmWzBdIC09IDEwO1xuICAgICAgICBkcmF3KCk7XG4gICAgfSk7XG59O1xuLyoqXG4gKiBCaW5kIG9wZXJhdGlvbiB0byBjb250cm9sIHRoZSBmaW5hbCBlZmZlY3RcbiAqL1xuY29uc3Qgb2JqZWN0TGVuID0gMTtcbmNvbnN0IGNhbWVyYUxlbiA9IDI7XG5leHBvcnQgY29uc3QgcmVhY3RUb09wZXJhdGlvbiA9IChuYW1lLCBkcmF3KSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7bmFtZX1gKTtcbiAgICAvLyB6b29taW5nIHRoZSBtb2RlbFxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUud2hlZWxEZWx0YSA+IDApIHtcbiAgICAgICAgICAgIGNhbWVyYS5DID0gdmVjdG9yU2NhbGUoY2FtZXJhLkMsIDYgLyA1KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbWVyYS5DID0gdmVjdG9yU2NhbGUoY2FtZXJhLkMsIDUgLyA2KTtcbiAgICAgICAgfVxuICAgICAgICBkcmF3KCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICBjYXNlICd3JzpcbiAgICAgICAgICAgICAgICBjYW1lcmEuQyA9IHZlY3RvckFkZChjYW1lcmEuQywgdmVjdG9yU2NhbGUoY2FtZXJhLlYsIC1vYmplY3RMZW4pKTtcbiAgICAgICAgICAgICAgICBkcmF3KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgICAgICBjYW1lcmEuQyA9IHZlY3RvckFkZChjYW1lcmEuQywgdmVjdG9yU2NhbGUoY2FtZXJhLlYsIG9iamVjdExlbikpO1xuICAgICAgICAgICAgICAgIGRyYXcoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2EnOlxuICAgICAgICAgICAgICAgIGNhbWVyYS5DID0gdmVjdG9yQWRkKGNhbWVyYS5DLCB2ZWN0b3JTY2FsZShjYW1lcmEuVSwgb2JqZWN0TGVuKSk7XG4gICAgICAgICAgICAgICAgZHJhdygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgY2FtZXJhLkMgPSB2ZWN0b3JBZGQoY2FtZXJhLkMsIHZlY3RvclNjYWxlKGNhbWVyYS5VLCAtb2JqZWN0TGVuKSk7XG4gICAgICAgICAgICAgICAgZHJhdygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaSc6XG4gICAgICAgICAgICAgICAgY2FtZXJhLkNbMV0gLT0gY2FtZXJhTGVuO1xuICAgICAgICAgICAgICAgIGNhbWVyYUluaXQoKTtcbiAgICAgICAgICAgICAgICBkcmF3KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdrJzpcbiAgICAgICAgICAgICAgICBjYW1lcmEuQ1sxXSArPSBjYW1lcmFMZW47XG4gICAgICAgICAgICAgICAgY2FtZXJhSW5pdCgpO1xuICAgICAgICAgICAgICAgIGRyYXcoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2onOlxuICAgICAgICAgICAgICAgIGNhbWVyYS5DWzBdICs9IGNhbWVyYUxlbjtcbiAgICAgICAgICAgICAgICBjYW1lcmFJbml0KCk7XG4gICAgICAgICAgICAgICAgZHJhdygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbCc6XG4gICAgICAgICAgICAgICAgY2FtZXJhLkNbMF0gLT0gY2FtZXJhTGVuO1xuICAgICAgICAgICAgICAgIGNhbWVyYUluaXQoKTtcbiAgICAgICAgICAgICAgICBkcmF3KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgY2FtZXJhSW5pdCB9IGZyb20gJy4vY29uZmlncy9jYW1lcmEnO1xuaW1wb3J0IGxvYWRGaWxlIGZyb20gJy4vdXRpbHMvbG9hZEZpbGUnO1xuaW1wb3J0IGRyYXcgZnJvbSAnLi91dGlscy9kcmF3JztcbmltcG9ydCB7IGJpbmRTbGlkZXIsIGxvYWRNZW51LCByZWFjdFRvT3BlcmF0aW9uIH0gZnJvbSAnLi91dGlscy9kb20nO1xuaW1wb3J0IHJlc3VsdCBmcm9tICcuL2NvbmZpZ3MvcmVzdWx0Jztcbi8qKioqKioqKioqKioqKioqKioqKiBJbml0aWFsaXplIERPTSAqKioqKioqKioqKioqKioqKioqKi9cbi8vIEdldCBjYW52YXMgcmVhZHlcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250ZW50Jyk7XG5jb25zdCBbaGVpZ2h0LCB3aWR0aF0gPSBbY2FudmFzLmhlaWdodCwgY2FudmFzLndpZHRoXTtcbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuY3R4LnN0cm9rZVN0eWxlID0gJ2dyZWVuJztcbi8vIEluamVjdCBwYXJhbWV0ZXIgdG8gZHJhdyBmdW5jdGlvblxuY29uc3QgZHJhd0N0eCA9IGRyYXcoY3R4LCB3aWR0aCwgaGVpZ2h0KTtcbi8vIExvYWQgYWxsIG1vZGVsIG9wdGlvbnMgdG8gbWVudVxuY29uc3QgY2hvb3NlX21vZGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0LmNob29zZV9tb2RlbCcpO1xubG9hZE1lbnUoY2hvb3NlX21vZGVsKTtcbi8vIEdldCB0aHJlZSBzbGlkZXMgcmVhZHkgYmluZGluZyB3aXRoIGgsIGQsIGYgcGFyYW1ldGVyXG5bJ2gnLCAnZCcsICdmJ10uZm9yRWFjaChpdGVtID0+IGJpbmRTbGlkZXIoaXRlbSwgZHJhd0N0eCkpO1xuLy8gQnV0dG9uXG4vLyBCaW5kIHJlbmRlciBidXR0b24gd2l0aCBsb2FkIGZpbGUgYW5kIHJlbmRlciBvcGVydGlvblxuY29uc3QgcmVuZGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlbmRlcicpO1xucmVuZGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vZGVsSW5kZXggPSBjaG9vc2VfbW9kZWwuc2VsZWN0ZWRJbmRleDtcbiAgICBpZiAobW9kZWxJbmRleCA9PT0gMCkge1xuICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBhIG1vZGVsIHRvIHJlbmRlcicpO1xuICAgIH1cbiAgICBjb25zdCBtb2RlbE5hbWUgPSBjaG9vc2VfbW9kZWwub3B0aW9uc1ttb2RlbEluZGV4XS52YWx1ZTtcbiAgICBsb2FkRmlsZShgLi9wdWJsaWMvbW9kZWwvJHttb2RlbE5hbWV9LmQudHh0YCwgZHJhd0N0eCk7XG4gICAgcmVuZGVyQnRuLmRpc2FibGVkID0gdHJ1ZTtcbn0pO1xuLy8gYmluZCByZXNldCBidXR0b24gd2l0aCByZWZyZXNoIGZ1bmN0aW9uXG5jb25zdCByZXNldEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXNldCcpO1xucmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XG59KTtcbi8qKioqKioqKioqKioqKioqKioqKiBJbml0aWFsaXplIERhdGEgKioqKioqKioqKioqKioqKioqKiovXG4vLyBCaW5kaW5nIG9wZXJhdGlvblxucmVhY3RUb09wZXJhdGlvbignY29udGVudCcsIGRyYXdDdHgpO1xuLy8gQ2FsY3VsYXRlIE4sIFUsIFYgdmVjdG9yXG5jYW1lcmFJbml0KCk7XG5yZXN1bHQud2lkdGggPSB3aWR0aDtcbnJlc3VsdC5oZWlnaHQgPSBoZWlnaHQ7XG4iXSwic291cmNlUm9vdCI6IiJ9